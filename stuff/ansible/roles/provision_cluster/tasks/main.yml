- local_action: wait_for host=10.0.3.15 state=started

       
- name: Send blueprint file
  uri:
    url: http://server.vbox:8080/api/v1/blueprints/awesome
    method: POST
    user: admin
    password: admin
    body: "{{ lookup('file','/home/vagrant/stuff/blueprint') }}"
    force_basic_auth: yes
    body_format: json       
    
- name: Send cluster template
  uri:
    url: http://server.vbox:8080/api/v1/clusters/awesome
    method: POST
    user: admin
    password: admin
    body: "{{ lookup('file','/home/vagrant/stuff/map') }}"
    force_basic_auth: yes
    body_format: json     
    
- name: Create cluster instance
  uri:
    url: http://server.vbox:8080/api/v1/clusters/awesome?format=blueprint
    method: GET
    user: admin
    password: admin
    force_basic_auth: yes